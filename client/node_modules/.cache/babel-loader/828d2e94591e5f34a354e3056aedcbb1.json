{"ast":null,"code":"var _jsxFileName = \"/Users/coder/Projects-2/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst Login = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [login, setLogin] = useState({\n    username: '',\n    password: ''\n  });\n\n  const handleChange = e => {\n    setLogin({ ...login,\n      [e.target.name]: e.target.value\n    }); // console.log(login.username)\n    // console.log(login.password)  \n  };\n\n  const LoginSubmit = e => {\n    e.preventDefault(); // console.log(localStorage.token)\n\n    axios.post('http://localhost:5000/api/login', login).then(response => {\n      console.log(response);\n      localStorage.setItem('token', response.data.payload);\n      props.history.push(\"/BubblePage\");\n    }).catch(err => {\n      console.log(err);\n      props.history.push(\"/\");\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"form\", {\n    onSubmit: LoginSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    name: \"username\",\n    type: \"text\",\n    onChange: handleChange,\n    id: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    onChange: handleChange,\n    id: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/coder/Projects-2/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useEffect","useState","axios","Login","props","login","setLogin","username","password","handleChange","e","target","name","value","LoginSubmit","preventDefault","post","then","response","console","log","localStorage","setItem","data","payload","history","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAiBL,QAAQ,CAAC;AAC9BM,IAAAA,QAAQ,EAAC,EADqB;AAE9BC,IAAAA,QAAQ,EAAC;AAFqB,GAAD,CAA/B;;AAIF,QAAMC,YAAY,GAACC,CAAC,IAAE;AACpBJ,IAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAEL,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAgBF,CAAC,CAACC,MAAF,CAASE;AAFpB,KAAD,CAAR,CADoB,CAKpB;AACA;AACD,GAPD;;AAQA,QAAMC,WAAW,GAACJ,CAAC,IAAE;AACnBA,IAAAA,CAAC,CAACK,cAAF,GADmB,CAEnB;;AACAb,IAAAA,KAAK,CAACc,IAAN,CAAW,iCAAX,EAA8CX,KAA9C,EACCY,IADD,CACMC,QAAQ,IAAE;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BJ,QAAQ,CAACK,IAAT,CAAcC,OAA3C;AACApB,MAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,aAAnB;AACH,KALD,EAMCC,KAND,CAMOC,GAAG,IAAE;AACRT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACAxB,MAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,KATD;AAUD,GAbD;;AAcE,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADA,EAEM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFN,EAGM;AAAM,IAAA,QAAQ,EAAEZ,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,MAA5B;AAAmC,IAAA,QAAQ,EAAEL,YAA7C;AAA2D,IAAA,EAAE,EAAC,UAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,EAII;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,UAA5B;AAAuC,IAAA,QAAQ,EAAEA,YAAjD;AAA+D,IAAA,EAAE,EAAC,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CAHN,CADJ;AAaD,CA1CD;;AA4CA,eAAeN,KAAf","sourcesContent":["import React,{useEffect, useState} from 'react';\nimport axios from 'axios';\nconst Login = (props) => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [login,setLogin]=useState({\n    username:'',\n    password:''\n});\nconst handleChange=e=>{\n  setLogin({\n      ...login,\n      [e.target.name]:e.target.value\n  })\n  // console.log(login.username)\n  // console.log(login.password)  \n}\nconst LoginSubmit=e=>{\n  e.preventDefault();\n  // console.log(localStorage.token)\n  axios.post('http://localhost:5000/api/login', login)\n  .then(response=>{\n      console.log(response);\n      localStorage.setItem('token',response.data.payload);\n      props.history.push(\"/BubblePage\");\n  })\n  .catch(err=>{\n      console.log(err);\n      props.history.push(\"/\");\n  })\n}\n  return (\n      <div>\n      <h1>Welcome to the Bubble App!</h1>\n            <h1>Login</h1>\n            <form onSubmit={LoginSubmit}>\n                <label htmlFor=\"username\">Username: </label>\n                <input name=\"username\" type=\"text\" onChange={handleChange} id=\"username\"/>\n                <label htmlFor=\"password\">Password: </label>\n                <input name=\"password\" type=\"password\" onChange={handleChange} id=\"password\"/>\n                <button type=\"submit\">Submit</button>\n            </form>\n        </div>\n  );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}
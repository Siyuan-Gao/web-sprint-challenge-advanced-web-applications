{"ast":null,"code":"var _jsxFileName = \"/Users/coder/Projects-2/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Form, Button } from 'semantic-ui-react';\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const {\n    push\n  } = useHistory();\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = ev => {\n    ev.preventDefault(); // make a post request to login endpoint on the server\n\n    axios.post(\"http://localhost:5000/api/login\", credentials).then(res => {\n      // console.log(res);\n      localStorage.setItem(\"token\", res.data.payload); // push user to app's main loggin page\n\n      push(\"/protected\");\n    }).catch(err => console.error(err));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"top-nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\")), React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Username:\", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: handleChange,\n    value: credentials.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }))), React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Password:\", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: handleChange,\n    value: credentials.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    color: \"blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/coder/Projects-2/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","useHistory","axios","Form","Button","Login","credentials","setCredentials","username","password","push","handleChange","e","target","name","value","handleSubmit","ev","preventDefault","post","then","res","localStorage","setItem","data","payload","catch","err","console","error"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAAQC,IAAR,EAAaC,MAAb,QAA0B,mBAA1B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA+BP,QAAQ,CAAC;AAC5CQ,IAAAA,QAAQ,EAAE,EADkC;AAE5CC,IAAAA,QAAQ,EAAE;AAFkC,GAAD,CAA7C;AAKA,QAAM;AAACC,IAAAA;AAAD,MAAST,UAAU,EAAzB;;AAGA,QAAMU,YAAY,GAAGC,CAAC,IAAI;AACxBL,IAAAA,cAAc,CAAC,EACX,GAAGD,WADQ;AAEX,OAACM,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFf,KAAD,CAAd;AAKD,GAND;;AAQA,QAAMC,YAAY,GAAIC,EAAD,IAAO;AAC1BA,IAAAA,EAAE,CAACC,cAAH,GAD0B,CAEzB;;AACChB,IAAAA,KAAK,CACJiB,IADD,CACM,iCADN,EACyCb,WADzC,EAECc,IAFD,CAEMC,GAAG,IAAI;AACX;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,OAAvC,EAFW,CAGX;;AACAf,MAAAA,IAAI,CAAC,YAAD,CAAJ;AACD,KAPD,EAQCgB,KARD,CAQOC,GAAG,IAAIC,OAAO,CAACC,KAAR,CAAcF,GAAd,CARd;AASH,GAZD;;AAcA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,CADF,EAKE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEX,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEL,YAHZ;AAIE,IAAA,KAAK,EAAEL,WAAW,CAACE,QAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA,CADF,EAYE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEG,YAHZ;AAIE,IAAA,KAAK,EAAEL,WAAW,CAACG,QAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA,CAZF,EAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,EAwBE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF,CALF,CADF;AAkCD,CAnED;;AAqEA,eAAeJ,KAAf","sourcesContent":["import React,{useState} from \"react\";\nimport {useHistory} from 'react-router-dom';\n\nimport axios from 'axios'\n\nimport {Form,Button} from 'semantic-ui-react';\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [credentials,setCredentials] = useState({\n    username: \"\",\n    password: \"\"\n  })\n\n  const {push} = useHistory();\n\n\n  const handleChange = e => {\n    setCredentials({\n        ...credentials,\n        [e.target.name]: e.target.value\n      }\n    );\n  };\n\n  const handleSubmit = (ev) =>{\n    ev.preventDefault();\n     // make a post request to login endpoint on the server\n      axios\n      .post(\"http://localhost:5000/api/login\", credentials)\n      .then(res => {\n        // console.log(res);\n        localStorage.setItem(\"token\", res.data.payload);\n        // push user to app's main loggin page\n        push(\"/protected\");\n      })\n      .catch(err => console.error(err));\n  }\n\n  return (\n    <div>\n      <header className='top-nav'>\n          <h1>Welcome to the Bubble App!</h1>\n        </header>\n      \n      <Form onSubmit={handleSubmit}>\n        <Form.Field>\n        <label>Username:\n          <input\n            type='text'\n            name='username'\n            onChange={handleChange}\n            value={credentials.username}\n          />\n        </label>\n        </Form.Field>\n\n        <Form.Field>\n        <label>Password:\n          <input\n            type='password'\n            name='password'\n            onChange={handleChange}\n            value={credentials.password}\n          />\n        </label>\n        </Form.Field>\n\n        <br />\n        <Button type='submit' color='blue'>Submit</Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}
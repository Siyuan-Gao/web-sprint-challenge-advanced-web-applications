{"ast":null,"code":"var _jsxFileName = \"/Users/coder/Projects-2/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst Login = props => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [login, setLogin] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const handleChange = e => {\n    setLogin({ ...login,\n      [e.target.name]: e.target.value\n    }); // console.log(login.username)\n    // console.log(login.password)\n  };\n\n  const LoginSubmit = e => {\n    e.preventDefault(); // console.log(localStorage.token)\n\n    axios.post(\"http://localhost:5000/api/login\", login).then(response => {\n      console.log(response);\n      localStorage.setItem(\"token\", response.data.payload);\n      props.history.push(\"/BubblePage\");\n    }).catch(err => {\n      console.log(err);\n      props.history.push(\"/\");\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"form\", {\n    onSubmit: LoginSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    name: \"username\",\n    type: \"text\",\n    onChange: handleChange,\n    id: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    onChange: handleChange,\n    id: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/coder/Projects-2/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useEffect","useState","axios","Login","props","login","setLogin","username","password","handleChange","e","target","name","value","LoginSubmit","preventDefault","post","then","response","console","log","localStorage","setItem","data","payload","history","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB;AACA;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC;AACjCM,IAAAA,QAAQ,EAAE,EADuB;AAEjCC,IAAAA,QAAQ,EAAE;AAFuB,GAAD,CAAlC;;AAIA,QAAMC,YAAY,GAAIC,CAAD,IAAO;AAC1BJ,IAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEP,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFnB,KAAD,CAAR,CAD0B,CAK1B;AACA;AACD,GAPD;;AAQA,QAAMC,WAAW,GAAIJ,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACK,cAAF,GADyB,CAEzB;;AACAb,IAAAA,KAAK,CACFc,IADH,CACQ,iCADR,EAC2CX,KAD3C,EAEGY,IAFH,CAESC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACK,IAAT,CAAcC,OAA5C;AACApB,MAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,aAAnB;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACdT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACAxB,MAAAA,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,KAVH;AAWD,GAdD;;AAeA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,EAGE;AAAM,IAAA,QAAQ,EAAEZ,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAEL,YAHZ;AAIE,IAAA,EAAE,EAAC,UAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,EASE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEA,YAHZ;AAIE,IAAA,EAAE,EAAC,UAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAeE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF,CAHF,CADF;AAuBD,CArDD;;AAuDA,eAAeN,KAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst Login = (props) => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [login, setLogin] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const handleChange = (e) => {\n    setLogin({\n      ...login,\n      [e.target.name]: e.target.value,\n    });\n    // console.log(login.username)\n    // console.log(login.password)\n  };\n  const LoginSubmit = (e) => {\n    e.preventDefault();\n    // console.log(localStorage.token)\n    axios\n      .post(\"http://localhost:5000/api/login\", login)\n      .then((response) => {\n        console.log(response);\n        localStorage.setItem(\"token\", response.data.payload);\n        props.history.push(\"/BubblePage\");\n      })\n      .catch((err) => {\n        console.log(err);\n        props.history.push(\"/\");\n      });\n  };\n  return (\n    <div>\n      <h1>Welcome to the Bubble App!</h1>\n      <h1>Login</h1>\n      <form onSubmit={LoginSubmit}>\n        <label htmlFor=\"username\">Username: </label>\n        <input\n          name=\"username\"\n          type=\"text\"\n          onChange={handleChange}\n          id=\"username\"\n        />\n        <label htmlFor=\"password\">Password: </label>\n        <input\n          name=\"password\"\n          type=\"password\"\n          onChange={handleChange}\n          id=\"password\"\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}